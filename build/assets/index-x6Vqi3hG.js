import{r as n,j as e}from"./react-1Mud5Jrq.js";import{c as O}from"./react-dom-BUVEyH1q.js";import{D as C,C as p,O as D,P as E}from"./primereact-CoPGBD_D.js";/* empty css                   */import"./prop-types-CqkleIqs.js";import"./scheduler-CzFDRTuY.js";import"./react-transition-group-DNdZ49lo.js";import"./@babel-DfNrjYUS.js";import"./dom-helpers-D0mFdbeO.js";(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))h(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&h(u)}).observe(document,{childList:!0,subtree:!0});function g(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function h(t){if(t.ep)return;t.ep=!0;const a=g(t);fetch(t.href,a)}})();const A=()=>{const[c,f]=n.useState([]),[g,h]=n.useState([]),[t,a]=n.useState(1),[u,_]=n.useState(0),[m,j]=n.useState(0),x=12,w=n.useRef(null),P=async r=>{try{const o=await(await fetch(`https://api.artic.edu/api/v1/artworks?page=${r}`)).json(),l=o.data.map(i=>({id:i.id,title:i.title,place_of_origin:i.place_of_origin,artist_display:i.artist_display,inscriptions:i.inscriptions,date_start:i.date_start,date_end:i.date_end}));f(l),_(o.pagination.total)}catch(s){console.error("Error fetching data:",s)}},S=r=>{const s=r.page+1;a(s)},v=r=>{const s=Number(r.target.value);j(s)},R=async(r,s)=>{let o=[],l=r+1;for(;o.length<s&&l<=Math.ceil(u/x);){const b=(await(await fetch(`https://api.artic.edu/api/v1/artworks?page=${l}`)).json()).data.map(d=>({id:d.id,title:d.title,place_of_origin:d.place_of_origin,artist_display:d.artist_display,inscriptions:d.inscriptions,date_start:d.date_start,date_end:d.date_end}));o=[...o,...b],l++}return o.slice(0,s)},N=async()=>{var r;if(m>0){const s=c.length;let o=c;if(m<=s)o=c.slice(0,m);else{o=c;const i=m-s,y=await R(t,i);o=[...o,...y]}const l=g.filter(i=>!c.some(y=>y.id===i.id));h([...l,...o])}(r=w.current)==null||r.hide()};return n.useEffect(()=>{P(t)},[t]),e.jsxs("div",{className:"card",children:[e.jsxs(C,{value:c,stripedRows:!1,selection:g,onSelectionChange:r=>h(r.value),selectionMode:"multiple",children:[e.jsx(p,{selectionMode:"multiple"}),e.jsx(p,{field:"title",header:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("i",{className:"pi pi-chevron-down",style:{marginLeft:"0.5rem",cursor:"pointer"},onClick:r=>{var s;return(s=w.current)==null?void 0:s.toggle(r)}}),"Title"]}),headerStyle:{textAlign:"center"}}),e.jsx(p,{field:"place_of_origin",header:"Place Of Origin"}),e.jsx(p,{field:"artist_display",header:"Artist Display"}),e.jsx(p,{field:"inscriptions",header:"Inscriptions"}),e.jsx(p,{field:"date_start",header:"Date Start"}),e.jsx(p,{field:"date_end",header:"Date End"})]}),e.jsx(D,{ref:w,children:e.jsxs("div",{className:"container",children:[e.jsx("input",{type:"number",placeholder:"Select Rows...",className:"input-field",onChange:v}),e.jsx("button",{onClick:N,children:"Submit"})]})}),e.jsx(E,{first:(t-1)*x,rows:x,totalRecords:u,onPageChange:S})]})};function L(){return e.jsx(e.Fragment,{children:e.jsx(A,{})})}O(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(L,{})}));
